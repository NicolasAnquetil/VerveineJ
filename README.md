# VerveineJ

[![Use Java 17](https://img.shields.io/badge/Java-17-brightgreen)](https://adoptium.net/) ![CI](https://github.com/moosetechnology/VerveineJ/workflows/CI/badge.svg?branch=master)
[![Moose version](https://img.shields.io/badge/Moose-10-%23aac9ff.svg)](https://github.com/moosetechnology/Moose)

Please note that this version of VerveineJ is compatible with **Moose-10** (and possibly later).
It is based on a meta-model that does not match the one of previous versions of Moose, hence, they are not able to load the models generated by this VerveineJ.

A Java to JSON/MSE importer.

Based on JDT, it parses java code to export it in the MSE or JSON formats used by the [Moose](https://modularmoose.org/) data analysis platform.

## Installation

[Installation page](https://moosetechnology.github.io/moose-wiki/Developers/Parsers/VerveineJ.html)

You only have to clone this project and then run verveineJ

```sh
# https
git clone https://github.com/moosetechnology/VerveineJ.git

# ssh
git clone git@github.com:moosetechnology/VerveineJ.git
```

## Running it

There is a docker version at: [https://hub.docker.com/repository/docker/badetitou/verveinej/general](https://hub.docker.com/repository/docker/badetitou/verveinej/general) (thanks to Beno√Æt Verhaeghe for this).

Otherwise, on the command line, the simplest command is

```sh
./verveinej.sh <java-source-directory>
```

It will create an `output.mse` (JSON format also available) file with the model extracted from the \<java-source-directory\>

To see what other options are available:

```sh
verveinej.sh -h
```

## Developers

To test the project, remember that you **must** disable the `assert` by removing (or not using) the -ea parameter.
You also need to run tests one by one (fork method in IntelliJ).

You can also use Ant or the pre-created IntelliJ build

```sh
ant junit
```
